language: java
before_install:
- wget -O jython.jar http://search.maven.org/remotecontent?filepath=org/python/jython-installer/2.7.1/jython-installer-2.7.1.jar;
  java -jar jython.jar -s -d /tmp/jython; export PATH="/tmp/jython/bin:$PATH"; export
  INTERPRETER=/tmp/jython/bin/jython; jython -h
- mkdir -p ~/.gradle
- echo jythonInterpreter=/tmp/jython/bin/jython >> ~/.gradle/gradle.properties
script: gradle check -PjythonInterpreter=/tmp/jython/bin/jython
deploy:
  provider: releases
  api_key:
    secure: kysZpFnJJRRh+CKp0zYnM8ZKj6z/KT4CDX78IEPjc3gkXaR5SjvLS4KQR+ynT640MVQcbWJqptvzzyJXv9PYkOr6uPSdIMeOqezp12Wo8KBX1SvxZRg9CWgEWyvUo74qD2+OfyPXtyuMl9EkQnYJXzuEb29m8Fx1qDaVMC15A1Q=
  file_glob: true
  file: build/libs/*
  skip_cleanup: true
  on:
    all_branches: true
    tags: true
    repo: xebialabs-community/overthere-pylib
